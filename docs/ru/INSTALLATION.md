# Руководство по установке

**Русский** | [English](../en/INSTALLATION.md)

## Быстрый старт

```bash
curl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/awg-easy-setup/main/setup.sh | sudo bash
```

## Требования

- Ubuntu 20.04+ или Debian 11+
- Минимум 1GB RAM
- Root доступ
- Рекомендуется чистая установка

## Этапы установки

### 1. Обновление системы [1-2/11]
Скрипт обновляет пакеты и устанавливает Docker из официального репозитория.

### 2. Создание пользователя [3/11]
10-секундный запрос имени (по умолчанию `admino`).

### 3. Настройка SSH [4-6/11]
- Генерирует Ed25519 ключи
- Импортирует authorized_keys из root
- Усиливает конфиг SSH (порт 9722, только ключи)

### 4. Настройка брандмауэра [7/11]
Открывает порты SSH (9722/tcp) и AmneziaWG (54321/udp).

### 5. Развертывание контейнера [8/11]
Запускает контейнер awg-easy с временным доступом к UI.

**КРИТИЧНО**: Создайте VPN клиента перед нажатием ENTER!

### 6. Блокировка UI [9/11]
Ограничивает веб-интерфейс доступом только из VPN (10.8.0.0/24).

### 7. Сводка и перезагрузка [10-11/11]
Отображает учетные данные и перезагружает сервер.

## После установки

```bash
# Подключение по SSH
ssh -p 9722 admino@YOUR_SERVER_IP

# Проверка статуса
docker ps | grep awg-easy
sudo ufw status
sudo iptables -S DOCKER-USER
```

## Проверка

```bash
# Тест блокировки UI (должен быть таймаут)
curl --max-time 5 http://YOUR_SERVER_IP:8888

# Подключитесь к VPN, затем тест (должно работать)
curl http://10.8.0.1:8888
```

## Следующие шаги

- [Настройка клиентов AmneziaVPN](CLIENTS.md)
- [Модель безопасности](SECURITY.md)
- [Устранение неполадок](TROUBLESHOOTING.md)
